<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>è–æ¡œé«˜æ ¡ å¥³å­ãƒã‚¹ã‚±ç‰©èª</title>
<style>
/* CSSã®å¤‰æ›´ã‚’åæ˜ ã—ã¾ã—ãŸ */
:root{
Â  --accent:#87CEFA;
Â  --bg:#ffffff;
Â  --text:#111;
Â  --maxwidth:800px;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
Â  font-family:"Hiragino Kaku Gothic Pro","Noto Sans JP",Arial,sans-serif;
Â  background:var(--bg);
Â  color:var(--text);
Â  line-height:1.6;
Â  -webkit-font-smoothing:antialiased;
Â  -moz-osx-font-smoothing:grayscale;
}

header{
Â  width:100%;
Â  text-align:center;
Â  background:#fff;
Â  border-bottom:4px solid var(--accent);
  /* âœ… ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾ç­–: é«˜ã•ã‚’å¼·åˆ¶çš„ã«ç¢ºä¿ã—ã€ã‚‚ã—ç”»åƒãŒæ®‹ã£ã¦ã‚‚ç›®ç«‹ãŸãªãã™ã‚‹ */
  padding: 10px 0; 
  height: auto; 
  min-height: 50px; 
}


.wrap{
Â  max-width:var(--maxwidth);
Â  margin:0 auto;
Â  padding:20px 16px;
Â  display:flex;Â 
Â  flex-wrap:wrap;
}

.main{
Â  background:#fff;
Â  border-radius:8px;
Â  padding:20px;
Â  box-shadow:0 2px 6px rgba(0,0,0,0.05);
}
.main h1{
Â  font-size:1.4rem;
Â  margin-bottom:14px;
Â  color:var(--accent);
Â  Â  border-bottom: 2px dashed #eef;
Â  Â  padding-bottom: 15px;
}
#news-area {
Â  Â  padding: 10px;
Â  Â  background-color: #f0f8ff; /* ğŸ’¡ æ—¥è¨˜ã‚¨ãƒªã‚¢ã®èƒŒæ™¯è‰²ã‚‚ç›®ã«å„ªã—ã„è–„ã„é’ã«èª¿æ•´ */
Â  Â  border: 1px solid #cceeff;
Â  Â  border-radius: 4px;
Â  Â  margin-bottom: 15px;
}

.entry{
Â  border-bottom:1px solid #eee;
Â  padding:12px 0;
}
.entry h2{
Â  font-size:1.1rem;
Â  color:#333;
Â  margin-bottom:6px;
}
/* ğŸ’¡ æ—¥è¨˜æœ¬æ–‡ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’ã‚¹ãƒãƒ›å¹³å‡ï¼ˆ16px=1remï¼‰ã«èª¿æ•´ */
.entry .content{
Â  Â  font-size: 1rem; /* PCç‰ˆã‚ˆã‚Šå°‘ã—å¤§ãã */
Â  Â  line-height: 1.8; /* è¡Œé–“ã‚‚åºƒã’ã¦èª­ã¿ã‚„ã™ã */
Â  Â  white-space:pre-wrap
}

.side{
Â  flex:1;
Â  text-align:center; /* ğŸ’¡ ç”»åƒã¨æ–‡å­—ã‚’ä¸­å¤®å¯„ã› */
Â  display: block;Â Â 
Â  padding: 20px 0;
}
.side img{
Â  Â  /* ğŸŒŸ æ˜æ—¥é¦™ã®ç”»åƒã‚’20%å¤§ããï¼ˆ150px -> 180pxï¼‰ */
Â  Â  max-width: 180px;Â 
Â  Â  width: 100%; /* è¦ªè¦ç´ ã®å¹…ã«åˆã‚ã›ã¦ç¸®å°ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ */
Â  Â  height:auto;
Â  Â  display:block;
Â  Â  margin:0 auto 10px auto; /* ğŸ’¡ ä¸­å¤®å¯„ã› */
Â  Â  border-radius: 8px;Â 
Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.1);Â 
}

/* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é–¢é€£ã®CSS */
.calendar-box {Â 
Â  Â  width: 100%;Â 
Â  Â  max-width: 300px;Â 
Â  Â  margin: 0 auto 30px auto;Â  /* ğŸ’¡ ä¸­å¤®å¯„ã› */
Â  Â  padding: 15px;Â 
Â  Â  background: #fff;Â 
Â  Â  border: 1px solid #ddd;Â 
Â  Â  border-radius: 8px;Â 
Â  Â  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
Â  Â  border-top: 3px solid #cceeff;Â 
Â  Â  border-bottom: 3px solid #cceeff;Â 
}
.calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-size: 1.1rem; font-weight: bold; color: var(--accent); }
.calendar-header button { background: none; border: none; cursor: pointer; font-size: 1.5rem; color: var(--accent); padding: 0 5px; outline: none; }
.calendar-table { width: 100%; border-collapse: collapse; }
.calendar-table th, .calendar-table td { text-align: center; padding: 5px 0; font-size: 0.85rem; border: 1px solid #eee; }
.calendar-table th { background: #eef; color: #555; }
.has-diary { font-weight: bold; color: var(--text) !important; background: #fff9e6; cursor: pointer; }
.selected-day { background: var(--accent) !important; color: #fff !important; border: 1px solid var(--accent); box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); }
.today {Â 
Â  Â  border: 2px solid orange !important;Â 
Â  Â  font-weight: bold;
Â  Â  background-color: #fffae6;
}
.calendar-table td:first-child { color: red; }Â 
.calendar-table td:last-child { color: blue; }Â 

footer{
Â  margin-top:30px;
Â  padding:14px;
Â  background:#f8f8f8;
Â  border-top:2px solid var(--accent);
Â  font-size:0.85rem;
Â  color:#555;
Â  text-align:center;
}
footer a{color:var(--accent);font-weight:600;text-decoration:none}

/* ğŸ’¡ ã‚¹ãƒãƒ›è¡¨ç¤ºï¼ˆ450pxä»¥ä¸‹ï¼‰ã®èª¿æ•´ï¼šæ—¥è¨˜ã¨ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®å¹…ã‚’çµ±ä¸€ã—ã€ä¸­å¤®å¯„ã›ã‚’ç¢ºå®Ÿã«ã™ã‚‹ */
@media (max-width:450px){Â 
Â  /* ğŸ’¡ ä¿®æ­£ç‚¹ï¼šè¦ªè¦ç´ ã®ãƒ©ãƒƒãƒ—ã¯ä¸­å¤®å¯„ã›ã‚’ç¶­æŒ */
Â  .wrap {Â 
Â  Â  flex-direction: column;Â 
Â  Â  align-items: center;Â 
Â  Â  /* PCã§è¦‹ãˆã¦ã„ãŸå·¦å³ã®ä½™ç™½ã‚’ç¶­æŒ */
Â  Â  padding: 10px 10px;Â 
Â  }
Â Â 
Â  /* ğŸ’¡ ä¿®æ­£ç‚¹ï¼šæ—¥è¨˜ã‚¨ãƒªã‚¢ï¼ˆ.mainï¼‰ã®å¹…ã‚’ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«å¼·åˆ¶çš„ã«çµ±ä¸€ */
Â  .main {Â 
Â  Â  order: 2;Â 
Â  Â  flex-basis: auto;Â 
Â  Â  width: 100%;Â 
Â  Â  max-width: 350px; /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»ç”»åƒã¨å¹…ã‚’åˆã‚ã›ã‚‹ */
Â  Â  margin-left: auto; /* ä¸­å¤®å¯„ã›ã‚’ç¢ºå®Ÿã« */
Â  Â  margin-right: auto; /* ä¸­å¤®å¯„ã›ã‚’ç¢ºå®Ÿã« */
Â  }
Â Â 
Â  /* ğŸ’¡ ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆ.sideï¼‰ã®ä¸­å¤®å¯„ã›ã¨å¹…åˆ¶é™ã‚’ç¶­æŒ */
Â  .side {Â 
Â  Â  order: 1;Â 
Â  Â  flex-basis: auto;Â 
Â  Â  width: 100%;Â 
Â  Â  align-items: center;Â 
Â  Â  justify-content: center;
Â  Â  max-width: 350px;Â 
Â  Â  margin-left: auto;Â 
Â  Â  margin-right: auto;
Â  Â  padding: 10px 0; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å°‘ã—æ¸›ã‚‰ã—ã¦ç¸¦ã®éš™é–“ã‚’èª¿æ•´ */
Â  }
}
</style>
</head>
<body>
<header>
Â  Â  Â  Â  <div style="color: var(--accent); font-size: 1.2rem; font-weight: bold;">è–æ¡œé«˜æ ¡ å¥³å­ãƒã‚¹ã‚±ç‰©èª ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰</div>
</header>

<div class="wrap">
Â  Â  <main class="main">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="hitokoto-area" style="font-size: 1.1rem; font-weight: bold; color: #555; background-color: #f0f8ff; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
Â  Â  Â  Â  Â  Â  ã‚ˆã†ã“ãï¼ä»Šæ—¥ã‚‚ä¸€æ—¥ã€ãƒã‚¹ã‚±ã‚‚å‹‰å¼·ã‚‚é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <h1>ä»Šæ—¥ã®æ˜æ—¥é¦™ã®æ—¥è¨˜</h1>
Â  Â  <div id="news-area">èª­ã¿è¾¼ã¿ä¸­ã§ã™â€¦</div>
Â  Â  Â  Â  <p style="margin-top: 15px;"><a href="past.html">éå»ã®æ—¥è¨˜ã‚’è¦‹ã‚‹</a></p>
Â  </main>
Â Â 
Â  <aside class="side">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  <img src="asukasakurai.jpg" alt="æ¡œäº•æ˜æ—¥é¦™" style="margin-top: 30px; max-width: 100%; height: auto; display: block; min-width: 0;" />
Â  Â  <div style="font-size: 0.9rem; color: #555;">è–æ¡œé«˜æ ¡ å¥³å­ãƒã‚¹ã‚±éƒ¨ã‚¨ãƒ¼ã‚¹</div>
Â  Â Â 
Â  Â  Â  Â  <div id="calendar-area" class="calendar-box">
Â  Â  Â  <p style="margin-top: 20px; font-weight: bold;">æ—¥ä»˜ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ—¥è¨˜ã‚’èª­ã¿è¾¼ã‚ã¾ã™</p>
Â  Â  </div>

Â  </aside>
</div>
<script>
// =======================================================
// JSONãƒ‡ãƒ¼ã‚¿ã¨ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºã®ãƒ­ã‚¸ãƒƒã‚¯ (å …ç‰¢åŒ–)
// =======================================================

// ğŸ’¡ ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’ã™ã¹ã¦ã“ã“ã§åˆæœŸåŒ–
let diaryData = [];Â 
let diaryMap = new Map();Â 
let currentDate = new Date();Â 
const maxFutureDate = new Date();
maxFutureDate.setFullYear(maxFutureDate.getFullYear() + 5);

// -------------------------------------------------------
// Helper Functions
// -------------------------------------------------------

function formatDate(date) {
Â  Â  const yyyy = date.getFullYear();
Â  Â  const mm = String(date.getMonth() + 1).padStart(2, '0');
Â  Â  const dd = String(date.getDate()).padStart(2, '0');
Â  Â  return `${yyyy}-${mm}-${dd}`;
}

function updateSelectedDay(dateKey) {
Â  Â  document.querySelectorAll('.calendar-table td').forEach(td => { td.classList.remove('selected-day'); });
Â  Â  const selectedTd = document.querySelector(`td[data-date="${dateKey}"]`);
Â  Â  if (selectedTd) { selectedTd.classList.add('selected-day'); }
}

function displayDiaryEntry(date) {Â 
Â  Â  const entry = diaryMap.get(date);
Â  Â  const area = document.getElementById("news-area");
Â  Â  // æ—¥è¨˜ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ›´æ–°
Â  Â  document.querySelector('.main h1').textContent = `${date}ã®æ˜æ—¥é¦™ã®æ—¥è¨˜`;Â 

Â  Â  if (entry) {
Â  Â  Â  Â  // ğŸ’¡ æ˜æ—¥é¦™ã®ä¸€äººç§°ãŒã€Œãƒœã‚¯ã€ã§ã‚ã‚‹ã“ã¨ã‚’æ„è­˜ã—ãŸå¿œç­”
Â  Â  Â  Â  area.innerHTML = `<article class="entry"><h2>${entry.title}Â  (ãƒœã‚¯ã®æ—¥è¨˜) </h2><div class="content">${entry.body || "æœ¬æ–‡ãªã—"}</div></article>`;
Â  Â  } else {
Â  Â  Â  Â  area.innerHTML = `<article class="entry"><h2>${date} ã®æ—¥è¨˜</h2><div class="content">ã“ã®æ—¥ã®æ—¥è¨˜ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚</div></article>`;
Â  Â  }
Â  Â  updateSelectedDay(date);
}

function createDayCell(year, month, day, currentDayKey) {
Â  Â  const dateKey = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
Â  Â  let className = '';
Â  Â  if (dateKey === currentDayKey) { className += ' today'; }
Â  Â  if (diaryMap.has(dateKey)) { className += ' has-diary'; }
Â  Â  return `<td class="${className}" data-date="${dateKey}" onclick="handleDayClick('${dateKey}')">${day}</td>`;
}

function renderCalendar(year, month) {
Â  Â  const calendarArea = document.getElementById('calendar-area');
Â  Â  const firstDayOfMonth = new Date(year, month, 1).getDay();Â 
Â  Â  const daysInMonth = new Date(year, month + 1, 0).getDate();Â 
Â  Â  const today = new Date();
Â  Â  const currentDayKey = formatDate(today);
Â  Â Â 
Â  Â  // æœˆã‚’é€²ã‚ã‚‹ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºåˆ¤å®š
Â  Â  const nextMonth = new Date(year, month + 1, 1);
Â  Â  let nextButton = `<button onclick="changeMonth(1)">&#9654;</button>`;
Â  Â  if (nextMonth > maxFutureDate) {
Â  Â  Â  Â  nextButton = `<button style="opacity: 0.3; cursor: default;">&#9654;</button>`;
Â  Â  }

Â  Â  let html = '';
Â  Â  html += '<div class="calendar-header">';
Â  Â  html += `<button onclick="changeMonth(-1)">&#9664;</button>`;Â 
Â  Â  html += `<span>${year}å¹´ ${month + 1}æœˆ</span>`;
Â  Â  html += nextButton;
Â  Â  html += '</div>';

Â  Â  html += '<table class="calendar-table">';
Â  Â  html += '<thead><tr><th>æ—¥</th><th>æœˆ</th><th>ç«</th><th>æ°´</th><th>æœ¨</th><th>é‡‘</th><th>åœŸ</th></tr></thead>';
Â  Â  html += '<tbody><tr>';

Â  Â  let day = 1;
Â  Â  let i;Â 

Â  Â  for (i = 0; i < firstDayOfMonth; i++) {
Â  Â  Â  Â  html += '<td></td>';
Â  Â  }

Â  Â  for (; i < 7; i++) {
Â  Â  Â  Â  if (day <= daysInMonth) {
Â  Â  Â  Â  Â  Â  html += createDayCell(year, month, day++, currentDayKey);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  html += '<td></td>';
Â  Â  Â  Â  }
Â  Â  }
Â  Â  html += '</tr>';

Â  Â  while (day <= daysInMonth) {
Â  Â  Â  Â  html += '<tr>';
Â  Â  Â  Â  for (i = 0; i < 7 && day <= daysInMonth; i++) {
Â  Â  Â  Â  Â  Â  html += createDayCell(year, month, day++, currentDayKey);
Â  Â  Â  Â  }
Â  Â  Â  Â  if (day > daysInMonth) {
Â  Â  Â  Â  Â  Â  for (; i < 7; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  html += '<td></td>';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  html += '</tr>';
Â  Â  }
Â  Â Â 
Â  Â  html += '</tbody></table>';
Â  Â Â 
Â  Â  const wrapper = document.createElement('div');
Â  Â  wrapper.innerHTML = html;
Â  Â  calendarArea.innerHTML = '';
Â  Â  calendarArea.appendChild(wrapper);

Â  Â  if (diaryData.length > 0) {
Â  Â  Â  Â  updateSelectedDay(diaryData[0].date);
Â  Â  }
}

function changeMonth(delta) {Â 
Â  Â  const nextDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + delta, 1);
Â  Â Â 
Â  Â  // 5å¹´å…ˆã®æœˆã‚’è¶…ãˆãªã„ã‚ˆã†ã«åˆ¶é™
Â  Â  if (delta > 0 && nextDate > maxFutureDate) {
Â  Â  Â  Â  return;Â 
Â  Â  }
Â  Â Â 
Â  Â  currentDate.setMonth(currentDate.getMonth() + delta);Â 
Â  Â  renderCalendar(currentDate.getFullYear(), currentDate.getMonth());Â 
}
function handleDayClick(dateKey) {Â 
Â  Â  displayDiaryEntry(dateKey);Â 
}

// -------------------------------------------------------
// Initial Load (åˆæœŸãƒ­ãƒ¼ãƒ‰å‡¦ç†)
// -------------------------------------------------------
fetch("diary.json")Â 
Â  Â  .then(response => {
Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  // ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ç¶™ç¶šã•ã›ã‚‹
Â  Â  Â  Â  Â  Â  throw new Error('JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ' + response.status);
Â  Â  Â  Â  }
Â  Â  Â  Â  return response.json();Â 
Â  Â  })
Â  Â  .then(data => {
Â  Â  Â  Â  diaryData = data;
Â  Â  Â  Â  diaryData.forEach(entry => {
Â  Â  Â  Â  Â  Â  diaryMap.set(entry.date, entry);
Â  Â  Â  Â  });

Â  Â  Â  Â  // JSONãŒç©ºã§ãªã„é™ã‚Šã€æœ€æ–°ã®æ—¥è¨˜ã‚’è¡¨ç¤º
Â  Â  Â  Â  if (diaryData.length > 0) {
Â  Â  Â  Â  Â  Â  displayDiaryEntry(diaryData[0].date);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  document.getElementById("news-area").innerHTML = `<article class="entry"><h2>æ—¥è¨˜ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</h2><div class="content">æ—¥è¨˜ãƒ•ã‚¡ã‚¤ãƒ«(diary.json)ã«ãƒ‡ãƒ¼ã‚¿ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</div></article>`;
Â  Â  Â  Â  }

Â  Â  Â  Â  renderCalendar(currentDate.getFullYear(), currentDate.getMonth());
Â  Â  })
Â  Â  .catch(err => {
Â  Â  Â  Â  const area = document.getElementById("news-area");
Â  Â  Â  Â  // JSONèª­ã¿è¾¼ã¿å¤±æ•—æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
Â  Â  Â  Â  area.innerHTML = `<p style="color: red; font-weight: bold;">æ—¥è¨˜ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«(diary.json)ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>`;
Â  Â  Â  Â  console.error("JSONãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã¾ãŸã¯è§£æã«å¤±æ•—:", err);
Â  Â  Â  Â  // ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã ã‘ã¯è¡¨ç¤º
Â  Â  Â  Â  renderCalendar(currentDate.getFullYear(), currentDate.getMonth());
Â  Â  });
</script>

<footer>
Â  <p>Â© 2025 è–æ¡œé«˜æ ¡ å¥³å­ãƒã‚¹ã‚±ç‰©èª Project. é‹å–¶: ä¸‰é·¹å¤¢æ–°è</p>
Â  <p style="margin-top: 5px; font-size: 0.8rem;">â€»ã“ã®ã‚µã‚¤ãƒˆã¯ã‚²ãƒ¼ãƒ åˆ¶ä½œã®ãŸã‚ã€æ¶ç©ºã®å›£ä½“ãƒ»äººç‰©ã‚’å«ã¿ã¾ã™ã€‚</p>
</footer>

</body>Â 
</html>
